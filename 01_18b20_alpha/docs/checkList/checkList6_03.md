# v6.03 기능 검증 테스트 체크리스트

이 문서는 v6.03 펌웨어의 모든 기능이 의도대로 작동하는지 확인하기 위한 종합 테스트 절차를 정의합니다.

## 1. 사전 준비
1.  수정된 펌웨어를 Arduino 보드에 업로드합니다.
2.  Arduino IDE의 시리얼 모니터를 열고 보드레이트를 `9600`으로 설정합니다.

## 2. 테스트 시나리오

### 시나리오 1: 메뉴 및 기본 기능 검증
- [v] **(1-1) 메뉴 확인:** `menu` 입력 시, 5개의 옵션(1.개별, 2.선택, 3.자동, 4.초기화, 5.취소)이 올바르게 표시되는지 확인합니다.
- [v] **(1-2) 메뉴 즉시 응답:** 메뉴가 지연 없이 즉시 출력되는지 확인합니다.
- [v] **(1-3) 메뉴 취소:** 메뉴에서 `5`를 입력했을 때, 정상 작동 상태로 돌아가는지 확인합니다.

### 시나리오 2: 선택적 ID 변경 기능 검증 (버그 수정 확인)
- [v] **(2-1) 메뉴 진입:** 메뉴에서 `2`를 입력하여 '선택적 ID 변경'으로 진입합니다.
- [v] **(2-2) 센서 목록 확인:** 프로세스 시작 시, 연결된 모든 센서의 목록이 표시되는지 확인합니다.
- [x] **(2-3) 순차적 ID 변경 테스트 (핵심):**
  - `1 2 3`과 같이 3개의 센서를 선택하고, 확인(`y`)합니다.
  - 첫 번째 센서(1번)의 새 ID를 `5`로 입력합니다.
  - 두 번째 센서(2번)의 새 ID를 `6`으로 입력합니다.
  - 세 번째 센서(3번)의 새 ID를 `7`로 입력합니다.
  - **기대 결과:** 모든 과정이 오류 없이 진행되고, 마지막에 "All selected sensors have been updated." 메시지와 함께, 3개 센서의 ID가 각각 5, 6, 7로 변경된 최종 테이블이 출력되어야 합니다.
   
   첫번째 시도 일때  리스트에 나온 1234 센서 선택 및 5678 id로 변경 과정은 아주 잘 되었지만  5 6 7 8 id를 가진 센서로 변경후 다시 1 2 3 4 id로 복귀하려고  선택적 메뉴를 통해서 변경 시도를 했지만 5 6 7 8 센서 선택을 여러가지 방법으로 입력 했음에도 선택이 되지 않았다며 진행이 안됨 .

   시리얼 로그 
   18:29:15.001 -> ID 변경 메뉴를 호출합니다...
18:29:15.001 -> -------------------------------
18:29:15.001 -> Sensor ID Change Menu:
18:29:15.001 -> 1. Change Individual Sensor ID
18:29:15.136 -> 2. Change Selective Sensor IDs
18:29:15.136 -> 3. Auto-assign IDs by Address
18:29:15.136 -> 4. Reset All Sensor IDs
18:29:15.136 -> 5. Cancel
18:29:15.136 -> Enter the number of the desired menu and press Enter.
18:29:15.172 -> -------------------------------
18:29:16.634 -> 
18:29:16.634 -> --- Selective Sensor ID Change ---
18:29:17.319 -> ---------------------------------------------------------------------------------------------
18:29:17.319 -> |  No |   Device ID   |        ADDRESS      |  Temp(℃) |  기준상한 | 초과온도 | 기준하한 | 초과온도 | 상태         |
18:29:17.401 -> ---------------------------------------------------------------------------------------------
18:29:17.527 -> |   1 |     NONE      |        NONE         |   NONE   |   NONE  |   NONE  |   NONE  |   NONE  | 센서없음     |
18:29:17.695 -> |   2 |     NONE      |        NONE         |   NONE   |   NONE  |   NONE  |   NONE  |   NONE  | 센서없음     |
18:29:17.777 -> |   3 |     NONE      |        NONE         |   NONE   |   NONE  |   NONE  |   NONE  |   NONE  | 센서없음     |
18:29:17.902 -> |   4 |     NONE      |        NONE         |   NONE   |   NONE  |   NONE  |   NONE  |   NONE  | 센서없음     |
18:29:18.074 -> |   5 |             5 | 2858:8284:0000:000E |    28.00 |    30.00 |       + |    10.00 |       - | 이상없음 |
18:29:18.153 -> |   6 |             6 | 285C:8285:0000:005D |    28.00 |    30.00 |       + |    10.00 |       - | 이상없음 |


### 시나리오 3: 전체 ID 초기화 기능 검증 (개선 사항 확인)
- [v] **(3-1) 메뉴 진입:** 메뉴에서 `4`를 입력하여 '전체 ID 초기화'를 실행합니다.
- [v] **(3-2) 주소 목록 확인:**
  - **기대 결과:** ID가 모두 0으로 초기화된 후, "--- Connected Sensors (Address List) ---" 메시지와 함께, ID가 없는 센서들의 주소 목록이 별도의 테이블로 즉시 출력되어야 합니다.

### 시나리오 4: 주소 기준 ID 자동 부여 기능 검증 (신규 기능)
- **(사전 조건):** ID가 중구난방이거나 모두 0으로 초기화된 상태에서 테스트하는 것을 권장합니다.
- [v] **(4-1) 메뉴 진입:** 메뉴에서 `3`을 입력하여 '주소 기준 ID 자동 부여'를 실행합니다.
- [x] **(4-2) 자동 할당 확인:**
  - **기대 결과:** "Auto-assignment complete." 메시지와 함께 새로운 센서 테이블이 출력되어야 합니다. 이 테이블에서 센서들이 주소(Address) 오름차순으로 정렬되고, ID가 `1`부터 순서대로 부여되었는지 확인합니다. (가장 주소값이 낮은 센서가 ID 1번이 되어야 함)
  
  다른 ai 는 오름 차순으로 된다면 
  2858:8284:0000:000E

285C:8285:0000:005D

28E7:9B85:0000:002D

28E6:AA83:0000:005A
  이 순서라고 하는데 확인 필요


### 시나리오 5: 개별 ID 변경 및 기타 기능 회귀 테스트
- [ ] **(5-1) 개별 ID 변경:** 메뉴 `1`번 기능이 이전과 동일하게 정상 작동하는지 간단히 확인합니다.
- [ ] **(5-2) 타임아웃:** 각 입력 단계에서 60초간 대기했을 때, 정상적으로 타임아웃 처리되는지 확인합니다.
