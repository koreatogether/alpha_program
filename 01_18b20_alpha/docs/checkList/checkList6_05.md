# v6.05 기능 검증 테스트 체크리스트

이 문서는 v6.05 펌웨어의 주요 버그 수정 및 안정성 강화 사항이 의도대로 작동하는지 확인하기 위한 테스트 절차를 정의합니다.

## 1. 사전 준비
1.  수정된 펌웨어를 Arduino 보드에 업로드합니다.
2.  Arduino IDE의 시리얼 모니터를 열고 보드레이트를 `9600`으로 설정합니다.

## 2. 테스트 시나리오

### 시나리오 1: 메뉴 입력 안정성 및 반응성 검증 (핵심)
- [ ] **(1-1) 메뉴 진입 및 반복 테스트:**
    - 시리얼 모니터에 `menu` 또는 `m`을 입력하여 메뉴에 진입합니다.
    - 메뉴가 표시되면, `5`를 입력하여 메뉴를 취소하고 정상 작동 상태로 돌아갑니다.
    - 이 과정을 5회 이상 반복합니다.
    - **기대 결과:** 매번 `menu` 입력 시 메뉴가 **지연 없이 즉시** 표시되고, `5` 입력 시 정상적으로 취소되어야 합니다. 이 과정에서 시리얼 입력이 멈추거나 지연되는 현상이 **절대 발생하지 않아야 합니다.** 취소 후 센서 테이블이 **즉시** 업데이트되어야 합니다.
- [ ] **(1-2) 타임아웃 후 재진입 테스트:**
    - `menu`를 입력하여 메뉴에 진입합니다.
    - 아무것도 입력하지 않고 60초 이상 대기하여 타임아웃이 발생하도록 합니다.
    - 타임아웃 메시지(`⏰ Input timeout. Cancelling.`)가 표시된 후, 다시 `menu`를 입력하여 메뉴에 진입합니다.
    - **기대 결과:** 타임아웃 후에도 `menu` 입력 시 메뉴가 **즉시** 표시되고 정상적으로 작동해야 합니다. 타임아웃 후 센서 테이블이 **즉시** 업데이트되어야 합니다.
- [ ] **(1-3) 개별 ID 변경 진입 후 입력 먹통 현상 재현 테스트 (핵심):**
    - `menu`를 입력하여 메뉴에 진입합니다.
    - `1`을 입력하여 '개별 센서 ID 변경' 메뉴로 진입합니다.
    - **기대 결과:** 시리얼 입력이 먹통이 되는 현상이 **발생하지 않아야 합니다.** 센서 선택 프롬프트가 정상적으로 표시되어야 합니다.
    - 이 상태에서 `0`을 입력하여 취소하고, `menu`를 다시 입력하여 메뉴 진입이 정상적으로 되는지 확인합니다.

### 시나리오 2: 선택적 ID 변경 기능 검증 (입력 파싱 개선)
- [ ] **(2-1) 메뉴 진입:** 메뉴에서 `2`를 입력하여 '선택적 ID 변경'으로 진입합니다.
- [ ] **(2-2) 센서 목록 확인:** 프로세스 시작 시, 연결된 모든 센서의 목록이 표시되는지 확인합니다.
- [ ] **(2-3) 다양한 형식의 입력 파싱 테스트 (핵심):**
    - 센서 선택 프롬프트에서 다음 형식으로 입력하고 엔터를 누릅니다.
        - `1 3 5` (공백 구분, 한 자리 숫자)
        - `1,3,7` (쉼표 구분, 한 자리 숫자)
        - `12 3 4` (공백 구분, 두 자리 숫자 포함)
        - `1,10,5` (쉼표 구분, 두 자리 숫자 포함)
        - `1231` (붙여쓰기 및 중복)
        - `a1, b2!, 8` (특수문자/알파벳 포함)
    - **기대 결과:** 각 입력 후, 시스템이 인식한 센서 번호 목록이 정확하게 표시되어야 합니다. (예: `Selected sensors: 1, 3, 5` 또는 `Selected sensors: 1, 2, 3` 등) 중복된 번호는 한 번만 인식되어야 하며, 숫자 외의 문자는 무시되어야 합니다. 특히, **두 자리 숫자와 붙여쓰기 숫자가 올바르게 파싱되어야 합니다.**
- [ ] **(2-4) 순차적 ID 변경 테스트:**
    - `2-3`에서 성공적으로 파싱된 센서들을 대상으로, `y`를 입력하여 ID 변경을 진행합니다.
    - 각 센서에 대해 새로운 ID를 순차적으로 입력합니다.
    - **기대 결과:** 모든 선택된 센서의 ID가 성공적으로 변경되고, 마지막에 "All selected sensors have been updated." 메시지와 함께 업데이트된 전체 센서 테이블이 출력되어야 합니다.

### 시나리오 3: 기타 기능 회귀 테스트
- [ ] **(3-1) 개별 ID 변경:** 메뉴 `1`번 기능이 이전과 동일하게 정상 작동하는지 간단히 확인합니다.
- [ ] **(3-2) 주소 기준 ID 자동 부여:** 메뉴 `3`번 기능이 이전과 동일하게 정상 작동하는지 간단히 확인합니다.
- [ ] **(3-3) 전체 ID 초기화:** 메뉴 `4`번 기능이 이전과 동일하게 정상 작동하는지 간단히 확인합니다.
